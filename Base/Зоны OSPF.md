#ospf 

Зоны OSPF — это логические разделения сети для оптимизации маршрутизации. Вот ключевые аспекты:

---

## Основные типы зон OSPF
### 1. Магистральная зона (Backbone Area, Area 0)
- Функция: Ядро сети OSPF, через которое проходят все межзональные маршруты[1][3][6].
- Особенности:
  - Обязательна для работы сети.
  - Все остальные зоны должны быть подключены к ней.
  - Использует LSA Type 1-2 (локальные маршруты)[7][8].

---

### 2. Стандартная зона (Standard Area)
- Функция: Зона по умолчанию, принимает все типы маршрутов[1][5].
- Особенности:
  - Принимает LSA Type 1-2 (локальные), Type 3 (суммарные), Type 4-5 (внешние).
  - Может содержать ASBR (пограничные роутеры с внешними сетями)[5].

---

### 3. Тупиковая зона (Stub Area)
- Функция: Упрощает маршрутизацию, исключая внешние маршруты[1][3].
- Особенности:
  - Не принимает внешние маршруты (LSA Type 5).
  - ASBR запрещены (кроме ABR, который может быть ASBR)[5].
  - Маршруты по умолчанию (0.0.0.0/0) распространяются через ABR[5].

---

### 4. Totally Stubby Area
- Функция: Усиленная версия Stub Area.
- Особенности:
  - Не принимает суммарные (LSA Type 3) и внешние (LSA Type 5) маршруты.
  - Только маршруты по умолчанию[1][3].

---

### 5. Not-so-stubby Area (NSSA)
- Функция: Комбинирует Stub Area с возможностью проброса внешних маршрутов[1][3].
- Особенности:
  - Не принимает внешние маршруты (LSA Type 5), но может генерировать их через ASBR.
  - Использует LSA Type 7 для локальных внешних маршрутов[5][8].

---

### 6. Totally NSSA
- Функция: Усиленная версия NSSA.
- Особенности:
  - Не принимает суммарные (LSA Type 3) и внешние (LSA Type 5) маршруты.
  - Пробрасывает свои внешние маршруты через LSA Type 7[1][3].

---

## Ключевые преимущества зон
1. Снижение нагрузки на ЦПУ  
   Уменьшение количества перерасчётов SPF за счёт локализации изменений[1][3][5].

2. Оптимизация таблиц маршрутизации  
   Суммирование маршрутов на границах зон[5][7].

3. Управление трафиком  
   Контроль распространения внешних/суммарных маршрутов[1][5].

---

## Сравнение типов зон
| Тип зоны       | Принимает внешние маршруты | Принимает суммарные маршруты | ASBR |
|---------------------|--------------------------------|----------------------------------|----------|
| Backbone        | Да                             | Да                               | Да       |
| Standard        | Да                             | Да                               | Да       |
| Stub            | Нет                            | Да                               | Нет      |
| Totally Stubby  | Нет                            | Нет                              | Нет      |
| NSSA            | Нет (только свои)              | Да                               | Да       |
| Totally NSSA    | Нет (только свои)              | Нет                              | Да       |

---

## LSA и зоны
| Тип LSA | Описание                          | Зоны                          |
|-------------|----------------------------------------|-----------------------------------|
| Type 1  | Информация о роутере                  | Все                                |
| Type 2  | Информация о сети                     | Все                                |
| Type 3  | Суммарные маршруты                    | Backbone, Standard, NSSA           |
| Type 4  | Маршруты ASBR                         | Backbone, Standard                |
| Type 5  | Внешние маршруты                      | Backbone, Standard                |
| Type 7  | Локальные внешние маршруты (NSSA)     | NSSA, Totally NSSA               |

---

## Пример конфигурации
# Настройка Stub Area на Cisco

```bash
router ospf 1
 network 10.0.0.0 0.255.255.255 area 1
 area 1 stub
```

---

## Важные нюансы
1. Area ID  
   Уникальный идентификатор зоны (например, 0.0.0.0 для Backbone)[3][6].

2. ABR (Area Border Router)  
   Маршрутизатор, соединяющий зоны. Распространяет суммарные маршруты[6][7].

3. ASBR (Autonomous System Boundary Router)  
   Маршрутизатор, подключающий внешние сети. Доступен только в Standard, NSSA и Totally NSSA[5][8].

Citations:
[1] https://creewick.github.io/study/courses/inet/notes/routing/ospf.html
[2] https://selectel.ru/blog/ospf/
[3] https://ru.wikipedia.org/wiki/OSPF
[4] https://timeweb.cloud/blog/ospf-protokol-osnovnye-terminy-i-princip-raboty
[5] http://xgu.ru/wiki/OSPF
[6] https://habr.com/ru/articles/418391/
[7] https://habr.com/ru/articles/162163/
[8] https://blog.telecom-sales.ru/ospf-tipy-lsa-i-ih-opisanie/

---
Answer from Perplexity: https://www.perplexity.ai/search/kak-realizovat-sokhranenie-pid-5O_4ZMHNQHKu22oHLR8z.Q?utm_source=copy_output