#forensic #USB #linux

В наши дни USB-накопители и SD-карты стали повседневными техническими аксессуарами.

Однако их повсеместное использование также создает проблему безопасности. Поскольку на этих устройствах часто хранятся личные данные, их необходимо полностью очистить, прежде чем передавать кому-то другому.

Кроме того, полезно избавиться от любых данных на устройствах хранения, прежде чем выбрасывать их.

Linux предлагает несколько инструментов, которые позволяют без труда стереть личные данные.

Ниже мы рассмотрим некоторые способы безопасного стирания данных с USB-накопителя или SD-карты в Linux.

# Форматирование и стирание: В чем разница?

Мы знаем, что форматирование USB делает все данные на этом устройстве недоступными.

Но полностью ли оно стирает существующие данные? Ответ – нет.

> Поскольку при форматировании устройства создается новый раздел, а старые разделы становятся доступными для записи.

Но исходные данные остаются на устройстве.

Многие надежные инструменты восстановления данных превращают извлечение данных с таких устройств в детскую игру.

Поэтому если на вашем накопителе хранятся конфиденциальные данные, вам следует сосредоточиться на их стирании, а не просто форматировать устройство. Чтобы стереть данные с USB-накопителя или SD-карты, необходимо перезаписать их ненужными случайными данными.

# Безопасное стирание содержимого флэш-накопителя или SD-карты в системах Linux

Чтобы стереть все личные данные с устройства, необходимо выполнить несколько шагов.

Первая задача – найти нужное устройство.

Используйте команду lsblk, чтобы найти точное устройство и раздел.

```
lsblk
```

Появится список блочных устройств, подключенных к системе.

Найдите устройство, основываясь на размере его памяти.

Для примера, мы будем считать /dev/sdb устройством, а /dev/sdb1 – его основным разделом.

После определения местоположения устройства и раздела, размонтируйте раздел с помощью следующей команды:

```
sudo umount /dev/sdb1
```

После размонтирования вам нужно будет перезаписать содержимое этого устройства.

1. [[3 способа безопасного удаления жесткого диска в Linux]]
2. [[4 команды для очистки диска в Linux]]

Пользователи Linux могут выбрать один из нескольких инструментов, включая dd, shred и badblocks.

После стирания данных необходимо создать новый раздел и отформатировать USB-накопитель в Linux.

# Стирание USB-накопителя или SD-карты с помощью команды dd

Команда dd в Linux используется для копирования и преобразования файлов.

Однако вы также можете использовать dd для стирания содержимого устройства хранения данных.

Например, следующая команда dd перезапишет содержимое вашего USB-накопителя или SD-карты всеми нулями.

> Убедитесь, что указали правильное имя устройства, иначе вы можете уничтожить другие разделы.

1. [[Команды Linux, которые вы никогда не должны запускать в своей системе]]
2. [[Опасные команды Linux]]

```
sudo dd if=/dev/zero of=/dev/sdb bs=4096 status=progress
sudo dd if=/dev/urandom of=/dev/sdb bs=4096 status=progress
```

# Безопасное стирание данных с USB-накопителя или SD-карты с помощью shred

![[Pasted image 20230102034525.png]]

Утилита shred – это надежный инструмент для стирания данных, входящий по умолчанию во все дистрибутивы Linux.

Она входит в пакет coreutils, что делает ее надежным выбором для стирания конфиденциальных данных с USB- или SD-накопителей.

Это мощное приложение, которое перезаписывает память, используя псевдослучайные данные.

Таким образом, вероятность восстановления удаленного содержимого практически равна нулю.

В настройках по умолчанию shred использует три прохода для перезаписи.

Но вы можете управлять этим параметром с помощью опции -n.

```
sudo shred -v /dev/sdb
```

Параметр -v указывает shred на отображение отчета о ходе выполнения операции.

Использование опции -z добавляет окончательную перезапись с использованием всех нулей, что помогает скрыть последствия уничтожения.

```
sudo shred -v -z /dev/sdb
```

Более того, shred также позволяет перезаписывать устройства, используя данные из случайных источников, например /dev/urandom.

```
sudo shred -v -z --random-source=/dev/urandom -n1 /dev/sdb
```

# Стирание USB-накопителя или SD-карты с помощью badblocks

Вы можете безопасно стереть содержимое флэш-накопителя с помощью разрушительного теста чтения-записи с использованием badblocks.

Это инструмент, используемый для поиска поврежденных секторов на устройствах хранения данных.

Одним из ключевых преимуществ badblocks является то, что он доступен в большинстве популярных систем Linux по умолчанию.

Используйте приведенную ниже команду badblocks, чтобы стереть содержимое /dev/sdb.

Эта команда может занять много времени, так как она записывает данные с помощью четырех различных проходов.

```
sudo badblocks -wsv /dev/sdb
```

Мы объединили параметры -s и -v для отображения индикатора выполнения и получения подробной информации.

Если вы ищете более быстрый подход, используйте приведенную ниже команду:

```
sudo badblocks -wsv -t 0x00 /dev/sdb
```

Параметр -t задает тестовый шаблон для перезаписи.

Приведенная выше команда использует один проход по всем нулям, что делает ее сравнительно более быстрой.

# Создание нового раздела на USB-накопителе или SD-карте

Когда вы перезаписываете память одним из вышеперечисленных способов, они стирают все, включая все разделы и таблицу разделов.

Поэтому вам нужно будет создать новый раздел и отформатировать его, прежде чем вы сможете использовать устройство.

Вы можете легко создавать и управлять разделами диска в Linux с помощью fdisk.

```
sudo fdisk -l
```

Эта команда выведет список всех разделов вашей системы, включая разделы на USB- или SD-карте.

Используйте приведенную ниже команду для выбора устройства (/dev/sdb).

Будьте внимательны на этом этапе и перепроверьте все.

```
sudo fdisk /dev/sdb
```

Появится приглашение fdisk.

Теперь введите n, чтобы создать новый раздел.

Вам нужно будет выбрать тип раздела, его номер, а также начало и конец сектора хранения для этого раздела.

Лучше всего оставить все по умолчанию, нажав клавишу Enter.

После создания раздела необходимо записать изменения на устройство.

Используйте команду w в fdisk и нажмите Enter.

Она создаст новый раздел /dev/sdb1.

После этого отформатируйте раздел с помощью следующей команды:

```
sudo mkfs.vfat -F 32 /dev/sdb1
```

# Защитите личные данные от попадания в чужие руки

Данные становятся все более важными с постоянным развитием технологий и всего того, что они могут предложить.

Поэтому перед передачей другим людям или продажей USB-устройств и SD-карт их необходимо правильно стирать.

Не менее важно безвозвратно удалять данные со старых мобильных телефонов, поскольку их очень легко восстановить.