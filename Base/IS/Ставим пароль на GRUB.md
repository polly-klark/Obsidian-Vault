#linux #password

# Генерация хэш-пароля

За данное действие отвечает утилита:

```
grub-mkpasswd-pbkdf2
```

А затем два раза ввести будущий пароль для GRUB. Полученный хэш – это длинная строка, которая начинается с grub.pbkdf2. Ее нужно скопировать и куда-нибудь сохранить.

# Изменить настройки 

Теперь нужно назначить супер-пользователя для GRUB. Это удобно делать через файл /etc/grub.d/00_header, отредактировав его содержимое. Удобнее сначала открыть текстовый документ, куда все было сохранено, и вставить команду следующего вида:

```
cat << EOF
set superusers="user_name"
password_pbkdf2 user_name хэш-пароль
EOF
```

Вместо user_name во второй и третьей строке укажите предпочтительное имя супер-пользователя GRUB, а также замените хэш пароль на свой.

Теперь выполните:

```
sudo nano /etc/grub.d/00_header
```

Пролистайте его содержимое до самого конца и на новой строке вставьте ранее подготовленную команду из 4 строк, которая сохранена в текстовом документе. Сохраните изменения.

# Обновить конфигурацию

```
sudo update-grub
```

# Проверить работу

```
reboot
```