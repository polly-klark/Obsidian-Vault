#htb_lab #windows #AD #htb 

Давайте рассмотрим следующий случай:

![[Pasted image 20251029162507.png]]

---

В этом разделе мы на один день станем администраторами домена Inlanefreight. Нам поручили помочь ИТ-отделу закрыть несколько рабочих заданий, поэтому мы будем выполнять такие действия, как добавление и удаление пользователей и групп, управление групповой политикой и многое другое. Успешное выполнение задач может привести к тому, что нас повысят до уровня ИТ-команды второго эшелона в службе поддержки.

---

## Инструкции по подключению

Для выполнения этого лабораторного задания у вас будет доступ к серверу Windows, присоединённому к домену, с которого вы сможете выполнять любые действия, необходимые для завершения задания. Для работы в этой среде вам потребуется подключиться по протоколу RDP с Pwnbox или вашей собственной виртуальной машины к серверу Windows через VPN. Следуйте инструкциям ниже, чтобы использовать `RDP` и подключиться к хосту Windows в лаборатории.

- Нажмите ниже в разделе `Questions`, чтобы создать целевой хост и получить IP-адрес. На изображении ниже показано, где создать целевой хост и при необходимости получить VPN-ключ для лаборатории.
    
    - IP ==
    - Имя пользователя == `htb-student_adm`
    - Пароль == `Academy_student_DA!`
- Для подключения к цели мы будем использовать `xfreerdp` .
    
- Откройте терминал в pwnbox или на виртуальной машине вашей лаборатории через VPN и введите следующую команду:
    
    - xfreerdp /v: /u:`htb-student_adm` /p:`Academy_student_DA!`

После подключения откройте консоль MMC, PowerShell или инструменты ADDS, чтобы начать работу.

---

## Задачи:

Попробуйте выполнить задания самостоятельно. Если вы застряли, вам поможет `Solutions` раскрывающийся список под каждым заданием. [Эта](https://docs.microsoft.com/en-us/powershell/module/activedirectory/?view=windowsserver2022-ps) ссылка на модуль PowerShell для Active Directory будет вам очень полезна. Поскольку это вводный курс по Active Directory, мы не ожидаем, что вы будете знать всё об этой теме и о том, как её администрировать. Решения под каждым заданием содержат пошаговые инструкции по выполнению задания. Этот раздел предназначен для того, чтобы вы могли получить представление о повседневных задачах, которые выполняют администраторы Active Directory. Вместо того чтобы предоставлять вам информацию в статичном формате, мы решили сделать её более практичной.

#### Задача 1. Управление пользователями

Наша первая задача на сегодня — добавить в AD несколько новых пользователей. Мы просто создадим их в области `"inlanefreight.local"` с углублением в структуру папок `"Corp > Employees > HQ-NYC > IT"` на данный момент. После создания других групп мы переместим их в новые папки. Для выполнения этих действий можно использовать модуль PowerShell для Active Directory (New-ADUser), оснастку «Пользователи и компьютеры Active Directory» или MMC.

#### Пользователи для добавления:

|**Пользователь**|
|---|
|`Andromeda Cepheus`|
|`Orion Starchaser`|
|`Artemis Callisto`|

У каждого пользователя должны быть указаны следующие атрибуты, а также имя:

|**Атрибут**|
|---|
|`full name`|
|`email (first-initial.lastname@inlanefreight.local) ( ex. j.smith@inlanefreight.local )`|
|`display name`|
|`User must change password at next logon`|

После того как мы добавим новых сотрудников, уделите пару минут удалению нескольких старых учётных записей, которые больше не нужны.

#### Пользователи, которых нужно удалить

|**Пользователь**|
|---|
|`Mike O'Hare`|
|`Paul Valencia`|

Наконец, `Adam Masters` обратился в службу поддержки по телефону и сообщил, что его аккаунт заблокирован из-за того, что он слишком много раз ввёл неправильный пароль. Служба поддержки подтвердила его личность и актуальность его обучения по вопросам кибербезопасности. В заявке содержится просьба разблокировать его учётную запись и заставить его сменить пароль при следующем входе в систему.

![[Pasted image 20251029162546.png]]

### `Solution: Task 1`

Откройте PowerShell от имени администратора. Чтобы добавить пользователя в Active Directory, сначала нужно загрузить модуль с помощью командлета "Import-Module -Name ActiveDirectory". Модуль AD можно установить с помощью пакета функций RSAT, но на данный момент он уже установлен на хосте, используемом в этой лаборатории.

#### Вывод терминала PowerShell при добавлении пользователя

```powershell-session
PS C:\htb> New-ADUser -Name "Orion Starchaser" -Accountpassword (ConvertTo-SecureString -AsPlainText (Read-Host "Enter a secure password") -Force ) -Enabled $true -OtherAttributes @{'title'="Analyst";'mail'="o.starchaser@inlanefreight.local"}
```

После нажатия клавиши Enter появится запрос на ввод безопасного пароля для пользователя.

#### Добавление пользователя из оснастки MMC

Прежде чем добавлять пользователя через графический интерфейс, необходимо открыть средство MMC «Пользователи и компьютеры Active Directory» (ADUC). Как обычный пользователь, вы можете просматривать объекты ADUC, но не сможете их изменять или добавлять. Для выполнения этих действий необходимо войти в систему под учетной записью администратора (см. выше). После входа в систему откройте оснастку ADUC, выполнив следующие действия:

- В окне Диспетчера сервера выберите Сервис> затем ADUC
- Разверните область "inlanefreight.local" и перейдите к "Корпорация > Сотрудники > ШТАБ-квартира в Нью-Йорке > ИТ ". Здесь мы будем создавать наших новых пользователей, подразделения и группы.

#### Добавление пользователя AD через графический интерфейс

Чтобы добавить пользователя AD через графический интерфейс, сначала нужно открыть «Пользователи и компьютеры Active Directory» в папке «Администрирование» в меню «Пуск».

1. Щелкните правой кнопкой мыши на "IT", выберите "Создать" > "Пользователь".

![[Pasted image 20251029162757.png]]

2. Добавьте имя и фамилию пользователя, укажите в поле «Имя для входа в систему» значение «acepheus», а затем нажмите «Далее».

![[Pasted image 20251029162833.png]]

3. Установите пароль `NewP@ssw0rd123!` и установите флажок «Пользователь должен сменить пароль при следующем входе в систему».

![[Pasted image 20251029162904.png]]

4. Если все атрибуты указаны верно, нажмите «Готово» в последнем окне

![[Pasted image 20251029162922.png]]

5. Наш новый пользователь теперь находится в подразделении OU.

![[Pasted image 20251029162939.png]]

#### Добавить пользователя

Мы добавим нового пользователя `Andromeda Cepheus` в наш домен. Это можно сделать следующим образом:

- Щелкните правой кнопкой мыши "IT"> Выберите "Создать" > "Пользователь". Появится всплывающее окно с полем для заполнения.
- Добавьте имя и фамилию пользователя, укажите «Имя для входа в систему» как `acepheus` и нажмите «Далее».
- Теперь введите для нового пользователя пароль `NewP@ssw0rd123!`, подтвердите его ещё раз и установите флажок «Пользователь должен сменить пароль при следующем входе в систему», затем нажмите «Далее». Если все атрибуты указаны верно, нажмите «Готово» в последнем окне.

---

Чтобы `REMOVE` создать учётную запись пользователя в Active Directory, мы можем:

#### PowerShell для удаления пользователя

```powershell-session
PS C:\htb> Remove-ADUser -Identity pvalencia
```

Приведённый выше командлет `Remove-ADUser` нацелен на пользователя по имени для входа в систему. Прежде чем выполнять команду, убедитесь, что она нацелена на нужного пользователя. Если мы не уверены в правильности значения, можно сначала проверить его с помощью команды `Get-ADUser` .

#### Удаление пользователя из оснастки MMC

Теперь мы удалим пользователя `Paul Valencia` из нашего домена. Это можно сделать следующим образом:

- Самый простой способ сделать это с помощью оснастки ADUC — использовать функцию `find` . В компании Inlanefreight много пользователей, распределённых по нескольким организационным подразделениям. Чтобы использовать функцию поиска:
    - Щёлкните правой кнопкой мыши по `Employees` и выберите «Найти».
    - Введите имя пользователя, по которому вы хотите выполнить поиск, в данном случае «Пол Валенсия», и нажмите «Найти». Если у пользователя такое имя, результаты поиска появятся ниже в окне поиска.
- Теперь щёлкните правой кнопкой мыши по пользователю и выберите «Удалить». Появится всплывающее окно с подтверждением удаления пользователя. Нажмите «Да».
- Чтобы убедиться, что пользователь удалён, вы можете снова использовать функцию `Find` для поиска пользователя.

#### Удаление пользователя через графический интерфейс

Чтобы удалить пользователя через графический интерфейс, мы воспользуемся оснасткой ADUC, как и при добавлении пользователя в домен, описанном выше.

1. Щёлкните правой кнопкой мыши по подразделению «Сотрудники» и выберите «Найти».

![[Pasted image 20251029163106.png]]

2. Введите имя пользователя, по которому хотите выполнить поиск, в данном случае «Пол Валенсия», и нажмите «Найти».

![[Pasted image 20251029163123.png]]

3. Щёлкните правой кнопкой мыши по пользователю и выберите «Удалить».

![[Pasted image 20251029163147.png]]

4. Подтвердите удаление во всплывающем окне. Поиск можно использовать снова, чтобы проверить, исчез ли пользователь.

![[Pasted image 20251029163202.png]]

Теперь нам нужно помочь `Adam Masters` и снова разблокировать его аккаунт.

Чтобы `UNLOCK` создать учётную запись, мы можем:

#### PowerShell Для разблокировки пользователя

```powershell-session
PS C:\htb> Unlock-ADAccount -Identity amasters 
```

Нам также нужно установить новый пароль для пользователя и заставить его сменить пароль при следующем входе в систему. Мы сделаем это с помощью командлетов `SetADAccountPassword` и `Set-ADUser` .

#### Сброс пароля пользователя (Set-ADAccountPassword)

```powershell-session
PS C:\htb> Set-ADAccountPassword -Identity 'amasters' -Reset -NewPassword (ConvertTo-SecureString -AsPlainText "NewP@ssw0rdReset!" -Force)
```

#### Принудительная смена пароля (Set-ADUser)

```powershell-session
PS C:\htb> Set-ADUser -Identity amasters -ChangePasswordAtLogon $true
```

#### Разблокировка с помощью оснастки

Чтобы разблокировать эту учётную запись, нужно выполнить несколько действий. Сначала нужно разблокировать учётную запись, затем настроить её так, чтобы пользователь менял пароль при следующем входе в систему, а затем сбросить пароль до временного, чтобы пользователь мог войти в систему и сбросить его самостоятельно. Для этого нужно:

- Щёлкните правой кнопкой мыши по пользователю и выберите `Reset Password`.
- В следующем окне введите временный пароль, подтвердите его и установите флажки «Пользователь должен сменить пароль при следующем входе в систему» и «Разблокировать учётную запись пользователя».
- После этого нажмите «ОК», чтобы применить изменения. Если ошибок не возникнет, вы получите уведомление о том, что пароль пользователя был изменён.

#### Разблокируйте Учетную запись Пользователя С помощью графического интерфейса

Чтобы разблокировать учётную запись Адама Мастерса, мы воспользуемся оснасткой ADUC, как и при добавлении пользователя в домен, описанном выше.

1. Щёлкните правой кнопкой мыши по аккаунту Адама Мастера и выберите «Сбросить пароль».

![[Pasted image 20251029163237.png]]

2. Установите новый временный пароль и выберите диалоговые окна «Разблокировать» и «Пользователь должен сменить пароль».

![[Pasted image 20251029163255.png]]

## Задача 2. Управление группами и другими организационными подразделениями

Далее нам нужно создать новую группу безопасности под названием `Security Analysts`, а затем добавить в нее новых сотрудников. Эта группа также должна находиться в подразделении с таким же названием в `IT` улье. Команда `New-ADOrganizationalUnit` PowerShell позволит вам быстро создать новую группу безопасности. Для выполнения этой задачи мы также можем использовать оснастку «Пользователи и компьютеры Active Directory», как в задаче 1.

### `Solution: Task 2`

#### Создайте новое подразделение AD и группу безопасности с помощью PowerShell

Чтобы создать новое подразделение и группу, выполните следующие действия:

```powershell-session
PS C:\htb> New-ADOrganizationalUnit -Name "Security Analysts" -Path "OU=IT,OU=HQ-NYC,OU=Employees,OU=CORP,DC=INLANEFREIGHT,DC=LOCAL"
```

Сначала мы создали новое подразделение для наших аналитиков и их ресурсов. Затем нам нужно создать группу безопасности для этих пользователей.

```powershell-session
PS C:\htb> New-ADGroup -Name "Security Analysts" -SamAccountName analysts -GroupCategory Security -GroupScope Global -DisplayName "Security Analysts" -Path "OU=Security Analysts,OU=IT,OU=HQ-NYC,OU=Employees,OU=Corp,DC=INLANEFREIGHT,DC=LOCAL" -Description "Members of this group are Security Analysts under the IT OU"
```

#### От MMC Snap-in

Для нас это будет быстрый процесс, состоящий из двух этапов. Сначала нам нужно создать новое подразделение для размещения наших аналитиков по безопасности. Для этого мы:

- перейдите к подразделению "Корпорация> Сотрудники> Штаб-квартира в Нью-Йорке > ИТ". Мы собираемся создать новый контейнер внутри`IT`.
- Щелкните правой кнопкой мыши на `IT` и выберите "Создать > Организационное подразделение". Должно появиться новое окно.
    - Введите имя `Security Analysts` в поле «Имя» и оставьте флажок «Защитить» установленным по умолчанию. Нажмите «ОК», и подразделение будет создано.

#### Создайте новый отдел в I.T.

Наше новое подразделение «Аналитики безопасности» должно находиться в IT-отделе.

1. В ИТ-подразделении щелкните правой кнопкой мыши и выберите "Создать" > "Организационное подразделение".

![[Pasted image 20251029163552.png]]

2. Введите название подразделения, в данном случае «Аналитики безопасности». Нажмите «ОК».

![[Pasted image 20251029163617.png]]

Теперь, когда у нас есть наше подразделение, давайте создадим `Security Group` для наших Аналитиков.  
Щелкните правой кнопкой мыши на нашем новом подразделении `Security Analysts` и выберите "Создать > Группа", и должно появиться всплывающее окно.

- Введите название группы `Security Analysts`
- Выберите область действия группы `Domain local`
- убедитесь, что тип группы указан как `Security`, а не «Распределение».
- После того как вы отметите нужные параметры, нажмите «ОК».

#### Создание группы безопасности

Наша группа безопасности войдёт в только что созданное подразделение.

1. Щелкните правой кнопкой мыши на нашем новом подразделении `Аналитики безопасности" и выберите "Создать > Группа". Должно появиться всплывающее окно.

![[Pasted image 20251029163648.png]]

2. Введите имя, область действия и тип, затем нажмите «ОК».

![[Pasted image 20251029163708.png]]

После этого в нашем подразделении должна появиться новая группа безопасности. Нам нужно переместить новых пользователей в подразделение и добавить их в группу безопасности. Помните, что цель этого действия — логическая организация объектов AD для удобства поиска и администрирования. Используя группы безопасности, мы можем быстро назначать разрешения и ресурсы конкретным пользователям вместо того, чтобы управлять каждым пользователем отдельно.

Чтобы ДОБАВИТЬ пользователя в `group`, мы можем:

#### Добавление пользователя в группу через PowerShell

```powershell-session
PS C:\htb> Add-ADGroupMember -Identity analysts -Members ACepheus,OStarchaser,ACallisto
```

Здесь мы используем `SAMAccountName` для добавления пользователей в группу «Аналитики» с помощью командлета `Add-ADGroup Member` . Убедитесь, что в вашем списке нет пробелов между элементами и что они разделены запятыми.

#### От MMC Snap-in

Чтобы добавить пользователей в группу безопасности, мы можем:

- Найдите пользователя, которого хотите добавить
- Щёлкните правой кнопкой мыши по пользователю и выберите «Добавить в группу». Появится новое окно, в котором нужно указать название группы.
- Введите часть или все название группы, в которую вы хотите добавить пользователя. В данном случае мы добавляем Andromeda в группу «Аналитики безопасности». Если наш запрос соответствует одной или нескольким группам, появится другое диалоговое окно со списком групп на выбор. Выберите нужную группу и нажмите «ОК».
- Выбранный вами вариант будет выделен в предыдущем окне. При необходимости можно выбрать несколько групп одновременно. После этого нажмите «ОК».
- Если проблем не возникнет, вы увидите новое всплывающее окно с сообщением о том, что операция завершена. Для проверки мы можем просмотреть свойства группы или пользователя.

#### Добавление пользователя в группу безопасности

В этом примере мы добавляем Андромеду в группу «Аналитики безопасности», а затем перемещаем её в нужное подразделение.

1. Щёлкните правой кнопкой мыши по пользователю и выберите «Добавить в группу»

![[Pasted image 20251029163746.png]]

2. Введите полное или частичное название группы в поле поиска и нажмите «Проверить названия».

![[Pasted image 20251029163800.png]]

3. После того как вы выберете правильную группу (она будет выделена), нажмите «ОК».

![[Pasted image 20251029163817.png]]

Это `two` одна из наших основных задач на день выполнена. Теперь давайте перейдем к управлению некоторыми объектами групповой политики.

---

## Задача 3. Управление объектами групповой политики

Далее нам нужно продублировать групповую политику `Logon Banner`, переименовать её в `Security Analysts Control` и изменить, чтобы она работала для нового подразделения Analysts. Нам нужно внести следующие изменения в объект политики:

- мы изменим настройки политики паролей для пользователей этой группы и разрешим им доступ к PowerShell и CMD, поскольку этого требуют их повседневные обязанности.
- Что касается настроек компьютера, нам нужно убедиться, что отображается заставка при входе в систему и что доступ к съёмным носителям заблокирован.

После этого убедитесь, что групповая политика применена к `Security Analysts` подразделению. Для этого потребуется использовать оснастку «Управление групповыми политиками», которая находится в `Tools` в окне «Диспетчер серверов». Для более сложных задач можно также использовать командлет `Copy-GPO` в PowerShell.

### `Solution: Task 3`

Чтобы продублировать объект групповой политики, можно использовать командлет Copy-GPO или сделать это с помощью консоли управления групповой политикой.

#### Дублируйте объект с помощью PowerShell

```powershell-session
PS C:\htb> Copy-GPO -SourceName "Logon Banner" -TargetName "Security Analysts Control"
```

Приведенная выше команда возьмет `Logon Banner` объект групповой политики и скопирует его в новый объект с именем `Security Analyst Control`. Этот объект будет иметь все старые атрибуты объекта групповой политики Logon Banner, но он не будет применяться ни к чему, пока мы его не свяжем.

#### Свяжите новый объект групповой политики с подразделением

```powershell-session
PS C:\htb> New-GPLink -Name "Security Analysts Control" -Target "ou=Security Analysts,ou=IT,OU=HQ-NYC,OU=Employees,OU=Corp,dc=INLANEFREIGHT,dc=LOCAL" -LinkEnabled Yes
```

Приведенная выше команда создаст новый объект групповой политики, свяжет его с подразделением `Security Analysts` и включит его. На данный момент это все, что мы собираемся сделать с помощью PowerShell. Нам еще нужно внести несколько изменений в политику, но мы выполним эти действия в консоли управления групповыми политиками. Изменение параметров объекта групповой политики с помощью PowerShell может оказаться непростой задачей, выходящей за рамки этого модуля.

#### Изменение объекта групповой политики через GPMC

Чтобы изменить наш новый объект политики:

- Нам нужно открыть GPMC и развернуть раздел «Объекты групповой политики», чтобы увидеть, какие объекты групповой политики существуют.
    
- Щёлкните правой кнопкой мыши по объекту политики, который вы хотите изменить, и выберите «Изменить.» Редактор управления групповыми политиками откроется в новом окне.
    
- Здесь у нас есть несколько вариантов для включения и отключения.
    
- Нам нужно изменить настройки съёмных носителей и убедиться, что они настроены на блокировку доступа к любым съёмным носителям. Мы разрешим аналитикам по безопасности доступ к PowerShell и CMD, поскольку этого требуют их повседневные обязанности.
    
    - расположение настроек политики в отношении съёмных носителей = `User Configuration > Policies > Administrative Templates > System > Removable Storage Access.`
    - Расположение настроек командной строки = `User Configuration > Policies > Administrative Templates > System.`
- Для `Computer settings` необходимо убедиться, что применяется баннер входа в систему и что настройки политики паролей для этой группы усилены.
    
    - Расположение настроек баннера входа в систему = `Computer Configuration > Policies > Windows Settings > Security Settings > Local Policies > Security Options.`
    - Для справки: этот параметр уже должен быть включен, поскольку скопированный нами объект групповой политики предназначен для баннера входа в систему. Мы проверяем настройки и убеждаемся, что параметр включен и применяется.
    - Расположение настроек политики паролей = `Computer Configuration > Policies > Windows Settings > Security Settings > Account Policies > Password Policy.`

Давайте начнём.

#### Групповые политики Конфигурации пользователя

В этом слайд-шоу мы рассмотрим, как изменить групповые политики, которые напрямую влияют на пользователей. Мы изменим политики, влияющие на доступ пользователей к командной строке, а также на их возможность использовать удаляемые носители.

1. Щёлкните правой кнопкой мыши по объекту групповой политики, который вы хотите изменить, и выберите «Изменить». Откроется окно редактора конфигурации групповой политики.

![[Pasted image 20251029164000.png]]

2. Детализируйте политики настройки пользователя в разделе "Система" > "Доступ к съемному хранилищу". Политика, которую мы собираемся отредактировать, заключается в выделении пользователя AD с помощью интерфейса.

![[Pasted image 20251029164020.png]]

3. Щёлкните правой кнопкой мыши по настройке и выберите «Изменить».

![[Pasted image 20251029164039.png]]

4. Установите флажок, чтобы включить настройку, нажмите «Применить», а затем «ОК».

![[Pasted image 20251029164102.png]]

5. Теперь мы видим, что для параметра «Политика» установлено значение «Включено». Как только мы применим политику к домену, она вступит в силу.

![[Pasted image 20251029164146.png]]

6. Далее мы изменяем политику доступа к командной строке. Перейдите в системный раздел в разделе «Конфигурация пользователя».

![[Pasted image 20251029164204.png]]

7. Щёлкните правой кнопкой мыши и измените параметр «Запретить доступ к командной строке».

![[Pasted image 20251029164223.png]]

8. Мы нажмём на радиальную кнопку рядом с надписью «Отключено», чтобы явно разрешить пользователям Security Analyst запускать командную строку и пакетные файлы, необходимые для их работы.

![[Pasted image 20251029164245.png]]

9. Мы можем проверить, что настройки нашей политики заданы в выделенном представлении.

![[Pasted image 20251029164305.png]]

Теперь давайте изменим групповые политики, влияющие на наши `Computer` настройки. Нам не нужно выходить из редактора GPMC; мы можем просто свернуть раздел «Конфигурация пользователя» и развернуть раздел «Конфигурация компьютера».

#### Групповые политики конфигурации компьютера

В этом слайд-шоу мы рассмотрим, как изменить групповые политики, влияющие на компьютеры в группе. Мы изменим политики, влияющие на заставку при входе в систему для хоста, и установим более строгие правила в отношении паролей.

1. Перейдите из раздела «Конфигурация пользователя» в раздел «Конфигурация компьютера». Сначала мы проверим настройки «Баннера при входе в систему». Мы проверяем настройки «Текст сообщения при интерактивном входе в систему» и «Заголовок сообщения при интерактивном входе в систему».

![[Pasted image 20251029164337.png]]

2. Щёлкните правой кнопкой мыши по настройке и выберите «Свойства». Убедитесь, что переключатель для определения настройки политики включён, а в текстовом поле есть надпись «Баннер». Если всё в порядке, нажмите «ОК».

![[Pasted image 20251029164351.png]]

3. Измените настройки политики «Заголовок сообщения» и убедитесь, что выбран радиальный шаблон и задан заголовок «Политика доступа к компьютеру».

![[Pasted image 20251029164409.png]]

4. Теперь мы изменим настройки политик паролей. Перейдите в раздел «Настройки безопасности» и нажмите «Политика паролей» в раскрывающемся списке «Политики учётных записей». Мы изменим политики, расположенные справа.

![[Pasted image 20251029164425.png]]

5. Начните с параметра «Минимальная длина пароля». Щёлкните правой кнопкой мыши, выберите «Свойства» и нажмите на радиальную кнопку, чтобы задать параметр. Установите количество символов равным десяти. Когда закончите, примените изменения и нажмите «ОК».

![[Pasted image 20251029164444.png]]

6. Теперь мы включим «Требования к сложности пароля». Чтобы задать параметр политики, нажмите на радиальную кнопку и убедитесь, что выбран параметр «Включено».

![[Pasted image 20251029164531.png]]

7. Далее мы хотим настроить историю паролей для сброса пароля учётной записи. Задайте параметр и установите количество запоминаемых предыдущих паролей равным 5. Нажмите «Применить» и «ОК».

![[Pasted image 20251029164559.png]]

8. Установите минимальный срок действия пароля, определив его и установив минимальный срок в 7 дней. Появится новое окно с сообщением о том, что также будет установлен максимальный срок действия пароля.

![[Pasted image 20251029164615.png]]

9. Убедитесь, что все настройки соответствуют нашим требованиям. Если всё в порядке, мы справились с этой задачей!

![[Pasted image 20251029164640.png]]

---

## Краткие сведения

На этом первая часть лабораторной работы завершена. Мы рассмотрели, как управлять пользователями, группами и групповой политикой. В следующем разделе мы добавим компьютер в домен INLANEFREIGHT, изменим подразделение, в котором он находится, и обеспечим его принадлежность к нужной группе для получения групповой политики, которую мы создали ранее.

Примечание. Создание целевого экземпляра может занять 2–3 минуты. Если при попытке подключения через RDP вы получаете сообщение об ошибке `Timeout waiting for activation`, подождите несколько секунд и повторите команду. Кроме того, при первом запуске загрузка модуля Active Directory PowerShell или оснасток MMC может занять немного больше времени.