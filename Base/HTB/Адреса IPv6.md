#network #htb 

`IPv6` является преемником IPv4. В отличие от IPv4, `IPv6`-адрес имеет длину `128` бит.`prefix` определяет хост и сетевые части. Управление по присвоению номеров в Интернете (`IANA`) отвечает за назначение IPv4- и IPv6-адресов и связанных с ними сетевых частей. Ожидается, что в долгосрочной перспективе `IPv6` полностью заменит IPv4, который по-прежнему широко используется в Интернете. Однако в принципе IPv4 и IPv6 могут использоваться одновременно (`Dual Stack`).

Протокол IPv6 последовательно соблюдает принцип `end-to-end` и предоставляет общедоступные IP-адреса для любых конечных устройств без необходимости в NAT. Следовательно, интерфейс может иметь несколько адресов IPv6, а также существуют специальные адреса IPv6, которые назначаются нескольким интерфейсам.

`IPv6` Это протокол с множеством новых функций, который также имеет ряд преимуществ перед IPv4:

- Большее адресное пространство
- Самоконфигурация адреса (SLAAC)
- Несколько IPv6-адресов на один интерфейс
- Более быстрая маршрутизация
- Сквозное шифрование (IPsec)
- Пакеты данных до 4 ГБ

|**Характеристики**|**IPv4**|**IPv6**|
|---|---|---|
|Длина бита|32-разрядный|128 бит|
|Слой OSI|Сетевой уровень|Сетевой уровень|
|Диапазон адресации|~ 4,3 миллиарда|~ 340 ундециллионов|
|Представительство|Бинарный|Шестнадцатеричный|
|Префиксное обозначение|10.10.10.0/24|fe80::dd80:b1a9:6687:2d3b/64|
|Динамическая адресация|DHCP|SLAAC / DHCPv6|
|IPSec|Необязательный|Обязательный|

---

Существует три различных типа IPv6-адресов:

|**Тип**|**Описание**|
|---|---|
|`Unicast`|Адреса для одного интерфейса.|
|`Anycast`|Адреса для нескольких интерфейсов, при этом пакет получает только один из них.|
|`Multicast`|Адреса для нескольких интерфейсов, на которые поступает один и тот же пакет данных.|

Примечание: в отличие от IPv4, в IPv6 отсутствует широковещательный адрес. Вместо этого в IPv6 используются многоадресные адреса для поддержки обнаружения и связи с несколькими узлами.

---

## Шестнадцатеричная система счисления

`hexadecimal system` (`hex`) используется для того, чтобы сделать двоичное представление более читабельным и понятным. Мы можем отображать состояния `10` (`0-9`) только в десятичной системе счисления, а `2` (`0` / `1`) — в двоичной системе счисления, используя один символ. В отличие от двоичной и десятичной систем счисления, мы можем использовать шестнадцатеричную систему счисления для отображения состояний `16` (`0-F`) с помощью одного символа.

|**Десятичная дробь**|**Шестнадцатеричный**|**Бинарный**|
|---|---|---|
|1|1|0001|
|2|2|0010|
|3|3|0011|
|4|4|0100|
|5|5|0101|
|6|6|0110|
|7|7|0111|
|8|8|1000|
|9|9|1001|
|10|A|1010|
|11|B|1011|
|12|C|1100|
|13|D|1101|
|14|E|1110|
|15|F|1111|

Давайте рассмотрим пример с IPv4 и то, как IPv4-адрес (`192.168.12.160`) будет выглядеть в шестнадцатеричном представлении.

|**Представительство**|**1 - й Октет**|**2 - й Октет**|**3 - й Октет**|**4 - й Октет**|
|---|---|---|---|---|
|Бинарный|1100 0000|1010 1000|0000 1100|1010 0000|
|`Hex`|`C0`|`A8`|`0C`|`A0`|
|Десятичная дробь|192|168|12|160|

---

В общей сложности IPv6-адрес состоит из `16 bytes`. Из-за его длины `IPv6` адрес представлен в `hexadecimal` обозначении. Следовательно, `128 bits` делятся на `8 blocks` умноженные на 16 бит (или `4 hex` числа). Все четыре шестнадцатеричных числа сгруппированы и разделены двоеточием (`:`) вместо простой точки (`.`), как в IPv4. Чтобы упростить обозначение, мы опускаем, по крайней мере, `4` нули в блоках, и мы можем заменить их двумя двоеточиями (`::`).

IPv6-адрес может выглядеть следующим образом:

- Полный IPv6: `fe80:0000:0000:0000:dd80:b1a9:6687:2d3b/64`
- Короткий IPv6: `fe80::dd80:b1a9:6687:2d3b/64`

IPv6-адрес состоит из двух частей:

- `Network Prefix` (сетевая часть)
- `Interface Identifier` также называется `Suffix` (хостовая часть)

`Network Prefix` обозначает сеть, подсеть или диапазон адресов.`Interface Identifier` формируется на основе `48-bit MAC`-адреса (о котором мы поговорим позже) интерфейса и в процессе преобразуется в `64-bit address`. Длина префикса по умолчанию составляет `/64`. Однако другие распространённые префиксы — `/32`, `/48`, и `/56`. Если мы хотим использовать наши сети, мы получаем от провайдера более короткий префикс (например, `/56`), чем `/64`.

В RFC 5952 была определена вышеупомянутая запись IPv6-адресов:

- Все буквы алфавита всегда пишутся строчными буквами.
- Все ведущие нули в блоке всегда опускаются.
- Один или несколько последовательных блоков `4 zeros` (в шестнадцатеричном формате) сокращаются на две двоеточия (`::`).
- Сокращение до двух двоеточий (`::`) может быть выполнено только `once` слева направо.
