#htb #linux 

Навигация необходима, как и работа с мышью для обычного пользователя Windows. С её помощью мы перемещаемся по системе и работаем с каталогами и файлами, которые нам нужны. Поэтому мы используем различные команды и инструменты для вывода информации о каталоге или файле и можем использовать расширенные параметры для оптимизации вывода в соответствии с нашими потребностями.

Один из лучших способов научиться чему-то новому — экспериментировать с этим. В этой статье мы рассмотрим разделы, посвящённые навигации по Linux, созданию, перемещению, редактированию и удалению файлов и папок, их поиску в операционной системе, различным типам перенаправлений и файловым дескрипторам. Мы также рассмотрим сочетания клавиш, которые значительно упростят и сделают более комфортной работу с оболочкой. Мы рекомендуем экспериментировать на локальной виртуальной машине. Убедитесь, что вы создали моментальный снимок виртуальной машины на случай непредвиденного повреждения системы.

Давайте начнём с навигации. Прежде чем перемещаться по системе, нам нужно выяснить, в каком каталоге мы находимся. Мы можем узнать, где находимся, с помощью команды `pwd`.

  Навигация

```shell-session
cry0l1t3@htb[~]$ pwd

/home/cry0l1t3
```

Для вывода списка всего содержимого каталога требуется только команда `ls`. Она имеет множество дополнительных параметров, которые могут дополнить отображение содержимого текущей папки.

  Навигация

```shell-session
cry0l1t3@htb[~]$ ls

Desktop  Documents  Downloads  Music  Pictures  Public  Templates  Videos
```

При использовании без дополнительных параметров будут отображаться только каталоги и файлы. Однако мы также можем добавить опцию `-l` для отображения дополнительной информации об этих каталогах и файлах.

  Навигация

```shell-session
cry0l1t3@htb[~]$ ls -l

total 32
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:37 Desktop
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Documents
drwxr-xr-x 3 cry0l1t3 htbacademy 4096 Nov 15 03:26 Downloads
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Music
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Pictures
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Public
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Templates
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Videos
```

Сначала мы видим общее количество блоков (по 1024 байта), используемых файлами и каталогами, перечисленными в текущем каталоге, что указывает на общий используемый размер. Это означает, что было использовано 32 блока * 1024 байта/блок = 32 768 байт (или 32 КБ) дискового пространства. Далее мы видим несколько столбцов, которые структурированы следующим образом:

|**Содержание колонки**|**Описание**|
|---|---|
|`drwxr-xr-x`|Тип и разрешения|
|`2`|Количество жестких ссылок на файл / каталог|
|`cry0l1t3`|Владелец файла / каталога|
|`htbacademy`|Групповой владелец файла /каталога|
|`4096`|Размер файла или количество блоков, используемых для хранения информации каталога|
|`Nov 13 17:37`|Дата и время|
|`Desktop`|Название каталога|

Однако мы не увидим всё, что есть в этой папке. В каталоге также могут быть скрытые файлы, название которых начинается с точки (например, `.bashrc` или `.bash_history`). Поэтому нам нужно использовать команду `ls -la` для `list all` файлов в каталоге:

  Навигация

```shell-session
cry0l1t3@htb[~]$ ls -la

total 403188
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:37 .bash_history
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:37 .bashrc
...SNIP...
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:37 Desktop
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Documents
drwxr-xr-x 3 cry0l1t3 htbacademy 4096 Nov 15 03:26 Downloads
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Music
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Pictures
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Public
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Templates
drwxr-xr-x 2 cry0l1t3 htbacademy 4096 Nov 13 17:34 Videos
```

Чтобы вывести список содержимого каталога, необязательно сначала переходить в него. Мы также можем использовать «`ls`», чтобы указать путь, по которому мы хотим получить список содержимого.

  Навигация

```shell-session
cry0l1t3@htb[~]$ ls -l /var/

total 52
drwxr-xr-x  2 root root     4096 Mai 15 18:54 backups
drwxr-xr-x 18 root root     4096 Nov 15 16:55 cache
drwxrwsrwt  2 root whoopsie 4096 Jul 25  2018 crash
drwxr-xr-x 66 root root     4096 Mai 15 03:08 lib
drwxrwsr-x  2 root staff    4096 Nov 24  2018 local
<SNIP>
```

Мы можем сделать то же самое, чтобы перейти в каталог. Для перемещения по каталогам мы используем команду `cd`. Давайте перейдём в каталог `/dev/shm`. Конечно, мы можем сначала перейти в каталог `/dev`, а затем `/shm`. Тем не менее, мы можем ввести полный путь и перейти туда.

  Навигация

```shell-session
cry0l1t3@htb[~]$ cd /dev/shm

cry0l1t3@htb[/dev/shm]$
```

Поскольку раньше мы находились в домашнем каталоге, мы можем быстро вернуться в каталог, в котором были в последний раз.

  Навигация

```shell-session
cry0l1t3@htb[/dev/shm]$ cd -

cry0l1t3@htb[~]$
```

Оболочка также предлагает нам функцию автозаполнения, которая упрощает навигацию. Если мы сейчас введём `cd /dev/s` и нажмём `[TAB] twice`, то получим все записи, начинающиеся с буквы «`s`» в каталоге `/dev/`.

  Навигация

```shell-session
cry0l1t3@htb[~]$ cd /dev/s [TAB 2x]

shm/ snd/
```

Если мы добавим букву «`h`» к букве «`s`,» оболочка завершит ввод, так как в противном случае в этом каталоге не будет папок, начинающихся с букв «`sh`». Если мы теперь отобразим всё содержимое каталога, мы увидим только следующее содержимое.

  Навигация

```shell-session
cry0l1t3@htb[/dev/shm]$ ls -la /dev/shm

total 0
drwxrwxrwt  2 root root   40 Mai 15 18:31 .
drwxr-xr-x 17 root root 4000 Mai 14 20:45 ..
```

Первая запись с одной точкой (`.`) указывает на текущий каталог, в котором мы находимся. Вторая запись с двумя точками (`..`) обозначает родительский каталог `/dev`. Это означает, что мы можем перейти в родительский каталог с помощью следующей команды.

  Навигация

```shell-session
cry0l1t3@htb[/dev/shm]$ cd ..

cry0l1t3@htb[/dev]$
```

Поскольку наша оболочка заполнена записями, мы можем очистить её с помощью команды `clear`. Однако сначала давайте вернёмся в каталог `/dev/shm` и выполним команду `clear` для очистки терминала.

  Навигация

```shell-session
cry0l1t3@htb[/dev]$ cd shm && clear
```

Другой способ очистить терминал — использовать сочетание клавиш `[Ctrl] + [L]`. Мы также можем использовать клавиши со стрелками (`↑` или `↓`) для прокрутки истории команд, которая покажет нам команды, которые мы использовали ранее. Но мы также можем искать в истории команд с помощью сочетания клавиш `[Ctrl] + [R]` и вводить часть текста, который мы ищем.