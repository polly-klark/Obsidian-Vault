#htb #linux 

Для нас будет крайне важно работать в терминале. Решение о том, какой терминал использовать, также оказывает большое влияние на нашу эффективность и производительность. Существует множество эмуляторов терминалов, каждый из которых обладает различными функциями, подходящими для разных целей. На выбор предлагается множество вариантов, каждый из которых разработан по своим принципам и с упором на что-то конкретное. Некоторые из них представляют собой универсальное решение, в то время как другие ориентированы на скорость или настройку.

|[Алакритти](https://alacritty.org/)|[Призрачный](https://ghostty.org/)|[Волновой терминал](https://www.waveterm.dev/)|
|---|---|---|

[Ghostty](https://ghostty.org/) ориентирован на скорость и производительность, а также позволяет настраивать наиболее важные параметры и предоставляет множество функций.

[Alacritty](https://alacritty.org/), с другой стороны, ориентирован на минимализм и производительность, что делает его очень быстрым благодаря ускорению на графическом процессоре, но предоставляет меньше возможностей для настройки.

[Wave Terminal](https://www.waveterm.dev/) — это новый эмулятор терминала с поддержкой ИИ, разработанный для разработчиков и ориентированный на современный пользовательский интерфейс, встроенный рендеринг и постоянные сеансы, но требующий гораздо больше ресурсов, что может замедлять его работу.

Настоятельно рекомендуется сначала поэкспериментировать с новыми настройками и инструментами на локальной виртуальной машине, у которой есть моментальный снимок, который вы всегда можете использовать для отката, если что-то пойдёт не так. Поэтому в следующих примерах мы будем использовать другую виртуальную машину, а затем применим эти настройки.

---

## Волновой терминал

Wave Terminal — это новый эмулятор терминала, разработанный для разработчиков, который призван улучшить рабочие процессы за счёт интеграции современных функций на основе искусственного интеллекта с традиционными функциями командной строки. Одно из главных преимуществ этого терминала заключается в том, что всё находится в одном месте (включая браузер на основе Chromium), что сокращает количество переключений между разными окнами.

Давайте [скачаем](https://www.waveterm.dev/download) этот терминал, установим его и рассмотрим поближе.

![Скачайте кнопку для Linux .snap x64 с помощью команды: sudo snap install --classic waveterm.](https://academy.hackthebox.com/storage/modules/87/term1.png)

Чтобы установить Wave Terminal в Ubuntu, мы можем воспользоваться менеджером пакетов `snap` для его установки.

  Эмулятор терминала

```shell-session
cry0l1t3@ubuntu:~$ sudo snap install --classic waveterm
[sudo] password for cry0l1t3:  *********************

waveterm 0.11.2 from Command Line Inc (commandlinedev✓) installed

cry0l1t3@ubuntu:~$ waveterm
```

Wave Terminal предоставляет множество различных сочетаний клавиш, которые повышают скорость и продуктивность работы, как только вы с ними ознакомитесь. При запуске появится всплывающее окно с некоторыми сочетаниями клавиш, которые впоследствии можно изменить.

![Значки и сочетания клавиш для Wave Terminal: подключение к серверу, увеличение блока, настройки блока, закрытие блока, новая вкладка, новый блок терминала, навигация и переключение между блоками и вкладками, команды wsh.](https://academy.hackthebox.com/storage/modules/87/term2.png)

При первом запуске Wave Terminal мы увидим следующие элементы:

- Командная строка
- Мониторинг производительности
- Браузер
- Файловый менеджер
- Страница советов
- Страница справки
- Окно чата с искусственным интеллектом

![Интерфейс Wave Terminal с отображением терминала, графика ЦП, страницы GitHub, каталога файлов и сочетаний клавиш.](https://academy.hackthebox.com/storage/modules/87/term3.png)

Если мы посмотрим на [документацию](https://docs.waveterm.dev/), то увидим 6 основных разделов, которые помогут лучше понять, что можно сделать с помощью этого эмулятора терминала.

- Настройка на заказ
- Привязки клавиш
- Планировка
- Удаленные подключения
- Виджеты
- Команда Wsh

![Меню документации Wave Terminal с разделами: Настройка, Привязки клавиш, Макет, Удаленные подключения, Виджеты, Команда wsh.](https://academy.hackthebox.com/storage/modules/87/term4.png)

Поскольку Wave Terminal использует компоненты ReactJS, он обладает широкими возможностями настройки с точки зрения дизайна. Вы можете отдельно изменить общую тему терминала и командной строки. В окне командной строки в правом верхнем углу вы увидите кнопку настроек, которая открывает множество опций.

![Терминал с меню выбора темы, в котором представлены следующие варианты: по умолчанию, тёмный по умолчанию, One Dark Pro, Дракула, Монокай, Кэмпбелл, тёплый жёлтый, Розовая сосна.](https://academy.hackthebox.com/storage/modules/87/term5.png)

Wave Terminal предоставляет рабочие пространства, в которых можно разместить нужные окна и виджеты. Щелкнув правой кнопкой мыши по вкладке рабочего пространства, вы также можете настроить его тему.

![Терминал с меню выбора фона, в котором отображаются следующие варианты: по умолчанию, синий, зелёный, красный, радужный, океанские глубины, акватический горизонт, закат, зачарованный лес, сумеречный туман.](https://academy.hackthebox.com/storage/modules/87/term6.png)

Наличие браузера в терминале может показаться большинству людей излишним, поскольку это негативно влияет на производительность терминала. Однако наличие всего необходимого на одном экране — один из ключевых аспектов продуктивности и эффективности. Тем более что Wave Terminal использует мозаичное управление окнами для эффективного размещения окон без наложения.

Многим нравится иметь на рабочем столе 2, 3 или даже 4 монитора и ноутбук, и это может выглядеть здорово, но поворачивать голову на 360 градусов, чтобы найти нужную информацию, — это не очень эффективно.

Эффективность проистекает из простоты. Самый эффективный и простой способ решить задачу (теоретически) — это сделать это одним щелчком мыши. Когда мы смотрим фильмы о «хакерах», проникающих в сеть за несколько секунд, нас впечатляют не только их знания, но и их эффективность и скорость.

Поэтому, если мы хотим быть эффективными и продуктивными, нам нужно всё упрощать. Вот простой ориентир для оценки вашей продуктивности и эффективности:

- `If you need more than 1 screen to handle your work comfortably, you didn’t optimize your setup/environment well enough.`

Теперь давайте посмотрим на встроенный браузер и загрузим собственное фоновое изображение.

![Терминал Wave с фоновым меню и поиском в Google по запросу «hackthebox background» с результатами в виде изображений.](https://academy.hackthebox.com/storage/modules/87/term7.png)

После загрузки мы можем использовать встроенную команду `wsh` для управления Wave Terminal. Важно помнить, что команда `wsh` доступна только через Wave Terminal.

Теперь давайте изменим фон Wave Terminal на загруженное нами изображение с помощью следующей команды:

  Эмулятор терминала

```shell-session
cry0l1t3@ubuntu:~$ wsh setbg ~/Downloads/krgw3Cr1X7OIXLzBSB3uTh1FtKIk8hyo.jpg 

background set
```

После этого мы должны увидеть, что фон изменился и выглядит примерно так:

![Терминал с командой для установки фона и страница настройки Wave с темами вкладок.](https://academy.hackthebox.com/storage/modules/87/term8.png)

#### Рабочие пространства

Как уже упоминалось, Wave Terminal позволяет создавать несколько рабочих пространств, которые могут использоваться для конкретных задач и условий. Например, у нас может быть одно рабочее пространство для работы, другое — для личного проекта, а третье — для личных нужд.

![Терминал Wave с переключателем рабочих пространств, отображающим следующие опции: «Взломать коробку», «Другое рабочее пространство», «Создать новое рабочее пространство».](https://academy.hackthebox.com/storage/modules/87/term9.png)

#### Изменение размера блоков

Кроме того, встроенный менеджер окон с мозаичной раскладкой позволяет изменять размер окон с помощью клавиатуры или мыши.

![Терминал с отображением каталога файлов и графика загрузки процессора.](https://academy.hackthebox.com/storage/modules/87/term10.png)

Кроме того, мы можем реорганизовать окна, переместив их в нужное место. Например, мы можем переместить монитор производительности над файловым менеджером.

![Терминал с каталогом файлов и графиком загрузки процессора.](https://academy.hackthebox.com/storage/modules/87/term11.png)

Это приведет к изменению расположения окон, которое будет выглядеть примерно так:

![Терминал с графиком загрузки процессора и отображением каталога файлов.](https://academy.hackthebox.com/storage/modules/87/term12.png)

С помощью сочетания клавиш `CTRL + M` мы можем «увеличить»/развернуть выбранное окно почти до полного размера. Это отличная функция, которая помогает нам сосредоточиться на одном окне, не отвлекаясь на другие.

![График загрузки процессора с указанием времени и процентного соотношения.](https://academy.hackthebox.com/storage/modules/87/term13.png)

Теперь давайте рассмотрим некоторые команды, которые предоставляет `wsh`

  Эмулятор терминала

```shell-session
cry0l1t3@ubuntu:~$ wsh help
wsh is a small utility that lets you do cool things with Wave Terminal, right from the command line

Usage:
  wsh [command]

Available Commands:
  ai          Send a message to an AI block
  completion  Generate the autocompletion script for the specified shell
  conn        manage Wave Terminal connections
  deleteblock delete a block
  edit        edit a file
  editconfig  edit Wave configuration files
  editor      edit a file (blocks until editor is closed)
  file        manage files across different storage systems
  getmeta     get metadata for an entity
  getvar      get variable(s) from a block
  help        Help about any command
  launch      launch a widget by its ID
  notify      create a notification
  readfile    read a blockfile
  run         run a command in a new block
  setbg       set background image or color for a tab
  setconfig   set config
  setmeta     set metadata for an entity
  setvar      set variable(s) for a block
  ssh         connect this terminal to a remote host
  term        open a terminal in directory
  version     Print the version number of wsh
  view        preview/edit a file or directory
  wavepath    Get paths to various waveterm files and directories
  web         web commands
  workspace   Manage workspaces
  wsl         connect this terminal to a local wsl connection

Flags:
  -b, --block string   for commands which require a block id
  -h, --help           help for wsh
```

С помощью команды `wsh view .` мы можем открыть файловый менеджер для указанного каталога (`.` — текущий каталог). Это открывает новое окно рядом с командной строкой со всей необходимой информацией, которую мы обычно вводим с помощью `ls`

![Терминал с командой «wsh view» и списком каталогов файлов.](https://academy.hackthebox.com/storage/modules/87/term14.png)

Теперь мы можем выбрать файл `.bashrc` в файловом менеджере, и он откроется во встроенном текстовом редакторе, который позволяет сразу же изменить файл.

![Терминал с командой «wsh view» и отображением содержимого файла .bashrc.](https://academy.hackthebox.com/storage/modules/87/term15.png)

Опять же, если увеличить окно, работать с ним будет проще и удобнее.

![Терминал отображает содержимое файла .bashrc с комментариями и настройками.](https://academy.hackthebox.com/storage/modules/87/term16.png)

Теперь давайте быстро взглянем на [документацию по настройке](https://docs.waveterm.dev/config). С помощью `wsh editconfig` мы можем редактировать файл конфигурации без необходимости искать его. На странице документации мы увидим множество различных ключей, которые можно настроить, например, `web:defaulturl` для встроенного браузера. Давайте настроим его на https://academy.hackthebox.com.

![Терминал с командой «wsh editconfig» и файл settings.json, в котором указаны настройки автоматического обновления, телеметрии и веб-адреса.](https://academy.hackthebox.com/storage/modules/87/term17.png)

После сохранения давайте нажмём на виджет `Web` на правой боковой панели и проверим, открывается ли нужная страница.

![Терминал с командой «wsh editconfig», файл settings.json с настройками и веб-страница HTB Academy.](https://academy.hackthebox.com/storage/modules/87/term18.png)

Давайте адаптируем всю тему терминала под стиль Hack The Box.

![Терминал с командой «wsh editconfig termthemes.json» и конфигурацией темы JSON для Hack The Box.](https://academy.hackthebox.com/storage/modules/87/term19.png)

Код: bash

```bash
{
  "hackthebox": {
    "display:name": "Hack The Box",
    "display:order": 1,
    "black": "#000000",
    "red": "#ff3e3e",
    "green": "#9fef00",
    "yellow": "#ffaf00",
    "blue": "#004cff",
    "magenta": "#9f00ff",
    "cyan": "#2ee7b6",
    "white": "#ffffff",
    "brightBlack": "#666666",
    "brightRed": "#ff8484",
    "brightGreen": "#c5f467",
    "brightYellow": "#ffcc5c",
    "brightBlue": "#5cb2ff",
    "brightMagenta": "#c16cfa",
    "brightCyan": "#5cecc6",
    "brightWhite": "#ffffff",
    "gray": "#a4b1cd",
    "cmdtext": "#a4b1cd",
    "foreground": "#a4b1cd",
    "selectionBackground": "#313f55",
    "background": "#1a2332",
    "cursorAccent": "#313f55"
  }
}
```

Теперь давайте загрузим ещё одни [обои HTB](https://github.com/ParrotSec/parrot-wallpapers/blob/master/backgrounds/hackthebox.jpg) и установим их в качестве нового фона для терминала.

  Эмулятор терминала

```shell-session
cry0l1t3@ubuntu:~$ wsh setbg ~/Downloads/hackthebox.jpg 

background set
```

После сохранения всех настроек терминал должен выглядеть следующим образом:

![Терминал с командой «wsh setbg ~/Downloads/hackthebox.jpg» и сообщением в качестве фона.](https://academy.hackthebox.com/storage/modules/87/term20.png)
