#web #htb 

Первым и наиболее важным компонентом внешнего интерфейса веб-приложений является [HTML (язык гипертекстовой разметки)](https://en.wikipedia.org/wiki/HTML). HTML лежит в основе любой веб-страницы, которую мы видим в интернете. Он содержит основные элементы каждой страницы, включая заголовки, формы, изображения и многие другие элементы. Веб-браузер, в свою очередь, интерпретирует эти элементы и отображает их для конечного пользователя.

Ниже приведён очень простой пример HTML-страницы:

#### Пример

Код: html

```html
<!DOCTYPE html>
<html>
    <head>
        <title>Page Title</title>
    </head>
    <body>
        <h1>A Heading</h1>
        <p>A Paragraph</p>
    </body>
</html>
```

Отобразится следующее: ![[Pasted image 20251222211303.png]]

Как мы видим, HTML-элементы отображаются в виде дерева, как и `XML` в других языках:

#### Структура HTML

  HTML

```shell-session
document
 - html
   -- head
      --- title
   -- body
      --- h1
      --- p
```

Каждый элемент может содержать другие HTML-элементы, в то время как основной тег `HTML` должен содержать все остальные элементы на странице, которая относится к `document`, что позволяет различать `HTML` и документы, написанные на других языках, например документы на `XML` языке.

HTML-элементы в приведённом выше коде можно просмотреть следующим образом:

<html>

<head>

<title>Заголовок страницы</title>

</head>

<body>

<h1>Заголовок</h1>

<p>Абзац</p>

</body>

</html>

Каждый HTML-элемент открывается и закрывается тегом, который указывает на тип элемента, например `<p>` для абзацев. Содержимое размещается между этими тегами. В тегах также может указываться идентификатор или класс элемента, например `<p id='para1'>` или `<p id='red-paragraphs'>` , которые необходимы для правильного форматирования элемента с помощью CSS. И теги, и содержимое составляют весь элемент.

---

## Кодировка URL

Важным понятием в HTML является [кодировка URL](https://en.wikipedia.org/wiki/Percent-encoding), или процентная кодировка. Чтобы браузер мог правильно отображать содержимое страницы, он должен знать используемую кодировку. Например, в URL-адресах браузеры могут использовать только [ASCII](https://en.wikipedia.org/wiki/ASCII) кодировку, которая позволяет использовать только буквенно-цифровые символы и некоторые специальные символы. Поэтому все остальные символы, выходящие за пределы набора символов ASCII, должны быть закодированы в URL-адресе. Кодировка URL заменяет небезопасные символы ASCII на `%` символ, за которым следуют две шестнадцатеричные цифры.

Например, символ одинарных кавычек '`'`' кодируется как '`%27`', что может быть воспринято браузерами как одинарные кавычки. В URL-адресах не должно быть пробелов, поэтому пробел заменяется на `+` (знак плюса) или `%20`. Вот некоторые распространённые способы кодирования символов:

| Характер | Кодирование |
| -------- | ----------- |
| Пробел   | %20         |
| !        | %21         |
| "        | %22         |
| #        | %23         |
| $        | %24         |
| %        | %25         |
| &        | %26         |
| '        | %27         |
| (        | %28         |
| )        | %29         |

Полную таблицу кодировки символов можно посмотреть [здесь](https://www.w3schools.com/tags/ref_urlencode.ASP).

Для кодирования/декодирования URL можно использовать множество онлайн-инструментов. Кроме того, в популярном веб-прокси [Burp Suite](https://portswigger.net/burp) есть декодер/кодировщик, который можно использовать для преобразования между различными типами кодировок. Попробуйте закодировать/декодировать некоторые символы и строки с помощью этого [онлайн-инструмента](https://www.url-encode-decode.com/).

#### Использование

Элемент `<head>` обычно содержит элементы, которые не выводятся непосредственно на страницу, например заголовок страницы, в то время как все основные элементы страницы находятся в `<body>`. К другим важным элементам относятся `<style>`, в котором хранится CSS-код страницы, и `<script>`, в котором хранится JS-код страницы, как мы увидим в следующем разделе.

Каждый из этих элементов называется [DOM (объектная модель документа)](https://en.wikipedia.org/wiki/Document_Object_Model). [Консорциум Всемирной паутины (W3C)](https://www.w3.org/) определяет `DOM` как:

`"The W3C Document Object Model (DOM) is a platform and language-neutral interface that allows programs and scripts to dynamically access and update the content, structure, and style of a document."`

Стандарт DOM разделён на три части:

- `Core DOM` — стандартная модель для всех типов документов
- `XML DOM` — стандартная модель для XML-документов
- `HTML DOM` — стандартная модель для HTML-документов

Например, в приведённом выше древовидном представлении мы можем обозначать DOM как `document.head` или `document.h1` и так далее.

Понимание структуры HTML DOM может помочь нам определить, где находится каждый элемент, который мы видим на странице. Это позволяет просматривать исходный код конкретного элемента на странице и выявлять потенциальные проблемы. Мы можем найти HTML-элементы по их идентификатору, имени тега или имени класса.

Это также полезно, когда мы хотим использовать уязвимости внешнего интерфейса (например, `XSS`) для управления существующими элементами или создания новых элементов, отвечающих нашим потребностям.