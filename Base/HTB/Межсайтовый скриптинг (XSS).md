#web #htb 

`HTML Injection` Уязвимости часто используются для проведения [межсайтовых сценариев (XSS)](https://owasp.org/www-community/attacks/xss/)-атак путем внедрения `JavaScript` кода, который выполняется на стороне клиента. Как только мы сможем выполнить код на компьютере жертвы, мы потенциально сможем получить доступ к учетной записи жертвы или даже к ее компьютеру. `XSS` на практике очень похож на `HTML Injection` . Однако `XSS` предполагает внедрение `JavaScript` кода для проведения более сложных атак на стороне клиента, а не просто внедрение HTML-кода. Существует три основных типа `XSS`:

|Тип|Описание|
|---|---|
|`Reflected XSS`|Происходит, когда введенные пользователем данные отображаются на странице после обработки (например, результаты поиска или сообщение об ошибке).|
|`Stored XSS`|Происходит, когда вводимые пользователем данные сохраняются в серверной базе данных, а затем отображаются при извлечении (например, публикации или комментарии).|
|`DOM XSS`|Возникает, когда вводимые пользователем данные отображаются непосредственно в браузере и записываются в `HTML`-объект DOM (например, уязвимое имя пользователя или заголовок страницы).|

В примере, который мы рассмотрели для `HTML Injection`, не было никакой очистки входных данных. Следовательно, одна и та же страница может быть уязвима для `XSS` атак. Мы можем попытаться внедрить следующий `DOM XSS` `JavaScript` код в качестве полезной нагрузки, который должен показать нам значение cookie для текущего пользователя:

Код: javascript

```javascript
#"><img src=/ onerror=alert(document.cookie)>
```

Как только мы введём полезную нагрузку и нажмём `ok`, появится окно с предупреждением и значением cookie:

![[Pasted image 20251230104537.png]]

Эта полезная нагрузка обращается к дереву документов `HTML` и получает значение объекта `cookie` . Когда браузер обработает наш ввод, он будет считаться новым `DOM`, и наш `JavaScript` будет выполнен, а значение cookie отобразится во всплывающем окне.

Злоумышленник может воспользоваться этим, чтобы украсть сеансы cookie-файлов, отправить их себе и попытаться использовать значение cookie-файла для аутентификации в аккаунте жертвы. Эту же атаку можно использовать для проведения различных других атак на пользователей веб-приложения. `XSS` Это обширная тема, которая будет подробно рассмотрена в последующих модулях.