#htb #linux 

Регулярные выражения (`RegEx`) — это язык для поиска шаблонов в тексте и файлах. Их можно использовать для поиска и замены текста, анализа данных, проверки вводимых данных, выполнения поиска и многого другого. Проще говоря, это критерий фильтрации, который можно использовать для анализа строк и управления ими. Они доступны в различных языках программирования и программах и используются в самых разных целях.

Регулярное выражение — это последовательность букв и символов, образующих шаблон поиска. Кроме того, регулярные выражения можно создавать с помощью шаблонов, называемых метасимволами. Метасимволы — это символы, которые определяют шаблон поиска, но не имеют буквального значения. Мы можем использовать их в таких инструментах, как `grep` или `sed` и других. Регулярные выражения часто используются в веб-приложениях для проверки вводимых пользователем данных.

---

## Группировка

Помимо прочего, регулярные выражения позволяют группировать нужные шаблоны поиска. По сути, регулярные выражения основаны на трёх разных концепциях, которые различаются по типу скобок:

### Операторы группировки

|**Операторы**|**Описание**|
|---|---|---|
|1|`(a)`|Круглые скобки используются для группировки частей регулярного выражения. Внутри скобок можно определить дополнительные шаблоны, которые должны обрабатываться вместе.|
|2|`[a-z]`|Квадратные скобки используются для определения классов символов. Внутри скобок можно указать список символов для поиска.|
|3|`{1,10}`|Фигурные скобки используются для определения квантификаторов. Внутри скобок можно указать число или диапазон, который показывает, сколько раз должен повторяться предыдущий шаблон.|
|4|`\|`|Также вызывается оператором OR и показывает результаты при совпадении одного из двух выражений|
|5|`.*`|Также вызывается оператор AND и и отображает результаты только в том случае, если оба выражения совпадают|

Предположим, мы используем оператор `OR`. Регулярное выражение ищет один из заданных параметров поиска. В следующем примере мы ищем строки, содержащие слово `my` или `false`. Чтобы использовать эти операторы, вам нужно применить расширенное регулярное выражение с помощью опции `-E` в grep.

#### оператор ИЛИ

  Регулярные выражения

```shell-session
cry0l1t3@htb:~$ grep -E "(my|false)" /etc/passwd

lxd:x:105:65534::/var/lib/lxd/:/bin/false
pollinate:x:109:1::/var/cache/pollinate:/bin/false
mysql:x:116:120:MySQL Server,,:/nonexistent:/bin/false
```

Поскольку один из двух параметров поиска всегда встречается в трёх строках, все три строки отображаются соответствующим образом. Однако если мы используем оператор `AND`, то получим другой результат для тех же параметров поиска.

#### оператор И

  Регулярные выражения

```shell-session
cry0l1t3@htb:~$ grep -E "(my.*false)" /etc/passwd

mysql:x:116:120:MySQL Server,,:/nonexistent:/bin/false
```

По сути, с помощью этой команды мы говорим, что ищем строку, в которой хотим видеть и `my` и `false`. Упрощённым примером может быть использование `grep` дважды, например, так:

  Регулярные выражения

```shell-session
cry0l1t3@htb:~$ grep -E "my" /etc/passwd | grep -E "false"

mysql:x:116:120:MySQL Server,,:/nonexistent:/bin/false
```

---

Вот несколько дополнительных заданий для практики работы с регулярными выражениями, которые помогут нам справляться с ними лучше и эффективнее. Для всех упражнений мы будем использовать файл `/etc/ssh/sshd_config` в нашем экземпляре `Pwnbox`

| | |
|---|---|
|1|Показать все строки, которые не содержат символ `#`.|
|2|Найдите все строки, содержащие слово, начинающееся на `Permit`.|
|3|Найдите все строки, содержащие слово, оканчивающееся на `Authentication`.|
|4|Выполните поиск по всем строкам, содержащим это слово `Key`.|
|5|Выполните поиск по всем строкам, начинающимся с `Password` и содержащим `yes`.|
|6|Ищите все строки, которые заканчиваются на `yes`.|