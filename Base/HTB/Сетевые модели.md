#htb #network 

Две сетевые модели описывают взаимодействие и передачу данных от одного хоста к другому: `ISO/OSI model` и `TCP/IP model`. Это упрощённое представление так называемого `layers`, в котором передаваемые биты представлены в понятном для нас виде.

![Сравнение моделей OSI и TCP/IP: в модели OSI 7 уровней, включая прикладной, презентационный, сеансовый, транспортный, сетевой, канальный и физический. В модели TCP/IP 4 уровня: прикладной, транспортный, интернет-уровень и канальный уровень.](https://academy.hackthebox.com/storage/modules/34/redesigned/net_models4.png)

---

## Модель OSI

`OSI`-модель, которую часто называют `ISO/OSI`-слойной моделью, представляет собой эталонную модель, которую можно использовать для описания и определения взаимодействия между системами. Эталонная модель состоит из `seven` отдельных слоёв, каждый из которых выполняет чётко определённые задачи.

Термин `OSI` обозначает модель `Open Systems Interconnection` , опубликованную `International Telecommunication Union` (`ITU`) и `International Organization for Standardization` (`ISO`). Поэтому модель `OSI` часто называют моделью `ISO/OSI`-го слоя.

---

## Модель TCP / IP

`TCP/IP` (`Transmission Control Protocol`/`Internet Protocol`) — это общий термин для обозначения множества сетевых протоколов. Протоколы отвечают за коммутацию и передачу пакетов данных в Интернете. Интернет полностью основан на семействе протоколов `TCP/IP` . Однако `TCP/IP` относится не только к этим двум протоколам, но обычно используется как общий термин для обозначения целого семейства протоколов.

Например, `ICMP` (`Internet Control Message Protocol`) или `UDP` (`User Datagram Protocol`) относятся к семейству протоколов. Семейство протоколов предоставляет необходимые функции для передачи и коммутации пакетов данных в частной или общедоступной сети.

---

## ISO/OSI в сравнении с TCP/IP

`TCP/IP` Это протокол связи, который позволяет хостам подключаться к Интернету. Он относится к `Transmission Control Protocol` используемым в Интернете и приложениями в Интернете. В отличие от `OSI`, он позволяет упростить соблюдение правил при условии соблюдения общих рекомендаций.

`OSI`С другой стороны, это коммуникационный шлюз между сетью и конечными пользователями. Модель OSI обычно называют эталонной моделью, поскольку она более новая и широко используемая. Она также известна своим строгим протоколом и ограничениями.

---

## Пакетные передачи

В многоуровневой системе устройства одного уровня обмениваются данными в другом формате, который называется `protocol data unit` (`PDU`). Например, когда мы хотим открыть веб-сайт на компьютере, программное обеспечение удалённого сервера сначала передаёт запрошенные данные на прикладной уровень. Данные обрабатываются слой за слоем, и каждый слой выполняет свои функции. Затем данные передаются по физическому уровню сети, пока их не получит сервер назначения или другое устройство. Данные снова проходят через слои, и каждый слой выполняет свои операции, пока данные не будут использованы принимающим программным обеспечением.

![Сравнение моделей OSI и TCP/IP с подуровнями: в модели OSI 7 уровней, включая прикладной, презентационный, сеансовый, транспортный, сетевой, канальный и физический. В модели TCP/IP 4 уровня: прикладной, транспортный, интернет-уровень и канальный уровень. Подуровни: данные, сегмент/дейтаграмма, пакет, кадр и бит.](https://academy.hackthebox.com/storage/modules/34/redesigned/net_models_pdu2.png)

Во время передачи каждый уровень добавляет `header` к `PDU` верхнего уровня, который контролирует и идентифицирует пакет. Этот процесс называется `encapsulation`. Заголовок и данные вместе образуют PDU для следующего уровня. Процесс продолжается на `Physical Layer` или `Network Layer`, где данные передаются получателю. Получатель выполняет процесс в обратном порядке и распаковывает данные на каждом уровне с помощью информации из заголовка. После этого данные используются приложением. Этот процесс продолжается до тех пор, пока все данные не будут отправлены и получены.

![Схема передачи пакетов, демонстрирующая инкапсуляцию данных от отправителя к получателю через следующие уровни: данные, TCP, IP, MAC и двоичная передача с соответствующими заголовками и порядком следования.](https://academy.hackthebox.com/storage/modules/34/packet_transfer.png)

Для нас, специалистов по тестированию на проникновение, полезны обе эталонные модели. С помощью `TCP/IP` мы можем быстро понять, как устанавливается соединение в целом, а с помощью `ISO` мы можем разобрать его по частям и детально проанализировать. Это часто происходит, когда мы можем прослушивать и перехватывать определенный сетевой трафик. Затем мы анализируем этот трафик, уделяя больше внимания модулю `Network Traffic Analysis` . Поэтому нам следует ознакомиться с обеими эталонными моделями, понять их и усвоить как можно лучше.