#web #htb 

Помимо веб-серверов, на которых можно размещать веб-приложения, написанные на разных языках, существует множество распространённых фреймворков для веб-разработки, которые помогают создавать основные файлы и функции веб-приложений. Из-за растущей сложности веб-приложений может быть непросто создать современное и многофункциональное веб-приложение с нуля. Поэтому большинство популярных веб-приложений разрабатываются с использованием веб-фреймворков.

Поскольку большинство веб-приложений имеют общую функциональность, такую как регистрация пользователя, фреймворки веб-разработки позволяют легко и быстро реализовать эту функциональность и связать их с интерфейсными компонентами, создавая полностью функциональное веб-приложение. Некоторые из наиболее распространенных фреймворков веб-разработки включают:

- [Laravel](https://laravel.com/) (`PHP`): обычно используется стартапами и небольшими компаниями, так как это мощный, но при этом простой в разработке фреймворк.
- [Express](https://expressjs.com/) (`Node.JS`): используется `PayPal`, `Yahoo`, `Uber`, `IBM` и `MySpace`.
- [Django](https://www.djangoproject.com/) (`Python`): используется `Google`, `YouTube`, `Instagram`, `Mozilla` и `Pinterest`.
- [Rails](https://rubyonrails.org/) (`Ruby`): использовался `GitHub`, `Hulu`, `Twitch`, `Airbnb` и даже `Twitter` в прошлом.

Следует отметить, что популярные веб-сайты обычно используют несколько фреймворков и веб-серверов, а не один.

---

## API

Важным аспектом разработки серверной части веб-приложения является использование веб-[API](https://en.wikipedia.org/wiki/API) и параметров HTTP-запросов для связи между клиентской и серверной частями, что позволяет отправлять данные между клиентскими и серверными компонентами и выполнять различные функции в веб-приложении.

Чтобы интерфейсный компонент мог взаимодействовать с серверным компонентом и запрашивать выполнение определённых задач, он использует API для запроса у серверного компонента конкретной задачи с определёнными входными данными. Серверные компоненты обрабатывают эти запросы, выполняют необходимые функции и возвращают определённый ответ интерфейсным компонентам, которые в конечном итоге отображают результат для конечного пользователя на стороне клиента.

---

#### Параметры запроса

По умолчанию для передачи определённых аргументов на веб-страницу используются параметры запроса `GET` и `POST` . Это позволяет внешним компонентам указывать значения определённых параметров, используемых на странице, чтобы внутренние компоненты могли их обработать и выдать соответствующий ответ.

Например, страница `/search.php` принимает параметр `item`, который можно использовать для указания искомого элемента. Передача параметра через запрос `GET` осуществляется через URL-адрес '`/search.php?item=apples`', а параметры `POST` передаются через данные `POST` в нижней части запроса `POST` `HTTP`:

Код: http

```http
POST /search.php HTTP/1.1
...SNIP...

item=apples
```

Параметры запроса позволяют одной странице получать различные типы входных данных, каждый из которых может обрабатываться по-своему. В некоторых других сценариях использование веб-API может быть более быстрым и эффективным. В [модуле «Веб-запросы»](https://academy.hackthebox.com/course/preview/web-requests) подробно рассматриваются `HTTP` запросы.

---

## Веб-API

API ([интерфейс прикладного программирования](https://en.wikipedia.org/wiki/API)) — это интерфейс внутри приложения, который определяет, как приложение может взаимодействовать с другими приложениями. В веб-приложениях он обеспечивает удалённый доступ к функциям внутренних компонентов. API используются не только в веб-приложениях, но и в программных приложениях в целом. Доступ к веб-API обычно осуществляется по протоколу `HTTP` и обычно обрабатывается и преобразуется на веб-серверах.

![[Pasted image 20251230144709.png]]

Например, веб-приложение с прогнозом погоды может иметь определённый API для получения информации о текущей погоде в конкретном городе. Мы можем запросить URL-адрес API и передать название города или его идентификатор, и приложение вернёт информацию о текущей погоде в виде `JSON` объекта. Другой пример — API Twitter, который позволяет нам получать последние твиты из определённого аккаунта в форматах `XML` или `JSON` и даже отправлять твиты «при наличии аутентификации» и так далее.

Чтобы использовать API в веб-приложении, разработчики должны реализовать эту функцию на стороне сервера веб-приложения, используя стандарты API, такие как `SOAP` или `REST`.

---

## SOAP

Стандарт `SOAP` ([Simple Objects Access](https://en.wikipedia.org/wiki/SOAP)) позволяет обмениваться данными через `XML`, где запрос отправляется в `XML` через HTTP-запрос, а ответ также возвращается в `XML`. Фронтенд-компоненты предназначены для корректного анализа этого `XML` вывода. Ниже приведён пример `SOAP` сообщения:

Код: xml

```xml
<?xml version="1.0"?>

<soap:Envelope
xmlns:soap="http://www.example.com/soap/soap/"
soap:encodingStyle="http://www.w3.org/soap/soap-encoding">

<soap:Header>
</soap:Header>

<soap:Body>
  <soap:Fault>
  </soap:Fault>
</soap:Body>

</soap:Envelope>
```

`SOAP` Очень полезен для передачи структурированных данных (например, целого объекта класса) или даже двоичных данных. Часто используется с сериализованными объектами, что позволяет обмениваться сложными данными между интерфейсными и серверными компонентами и правильно их анализировать. Он также очень полезен для обмена _состоянием_ объектов, то есть для обмена/изменения текущего состояния веб-страницы, что становится всё более распространённым в современных веб-приложениях и мобильных приложениях.

Однако `SOAP` может оказаться сложным в использовании для новичков или требовать длинных и сложных запросов даже для небольших запросов, таких как базовые `search` или `filter` запросы. В этом случае более полезен стандарт `REST` API.

---

## REST

Стандарт `REST` ([Representational State Transfer](https://en.wikipedia.org/wiki/Representational_state_transfer)) позволяет передавать данные по пути URL, то есть `search/users/1` и обычно возвращает результат в формате `JSON` то есть идентификатор пользователя `1` .

В отличие от параметров запроса, `REST` API обычно ориентированы на страницы, которые ожидают ввода данных одного типа, передаваемых непосредственно через путь в URL-адресе, без указания его имени или типа. Обычно это полезно для таких запросов, как `search`, `sort`, или `filter`. Поэтому `REST` API обычно разбивают функциональность веб-приложения на более мелкие API и используют эти запросы для выполнения более сложных действий, что делает веб-приложение более модульным и масштабируемым.

Ответы на `REST` API-запросы обычно предоставляются в `JSON` формате, а интерфейсные компоненты разрабатываются таким образом, чтобы обрабатывать эти ответы и правильно их отображать. Другие форматы вывода для `REST` включают `XML`, `x-www-form-urlencoded`, или даже необработанные данные. Как уже упоминалось в разделе `database`, ниже приведён пример `JSON` ответа на `GET /category/posts/` API-запрос:

Код: json

```json
{
  "100001": {
    "date": "01-01-2021",
    "content": "Welcome to this web application."
  },
  "100002": {
    "date": "02-01-2021",
    "content": "This is the first post on this web app."
  },
  "100003": {
    "date": "02-01-2021",
    "content": "Reminder: Tomorrow is the ..."
  }
}
```

`REST` использует различные методы HTTP для выполнения разных действий в веб-приложении:

- `GET`запрос на получение данных
- `POST`запрос на создание данных (не идемпотентный)
- `PUT`запрос на создание или замену существующих данных (идемпотентный)
- `DELETE`запрос на удаление данных